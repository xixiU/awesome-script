# 项目说明

## 📦 文件结构

```
h5videoPlay/
├── html5videoPlay.js          # 主脚本（1700+ 行）
├── subtitle_module.js          # 独立字幕模块（备用）
├── README.md                   # 主文档
├── 项目说明.md                 # 本文件
└── subtitle_backend/           # 字幕识别后端
    ├── server.py              # FastAPI 服务器
    ├── requirements.txt       # Python 依赖
    ├── start.sh              # 启动脚本
    ├── test_api.py           # 测试工具
    ├── README.md             # 后端文档
    └── .gitignore
```

## 🎯 快速开始

### 方案一：仅视频控制（推荐）

```bash
1. 安装 Tampermonkey
2. 复制 html5videoPlay.js 创建脚本
3. 访问视频网站使用快捷键
```

**常用快捷键：** V/X/Z（速度）、←/→（快进）、P（截图）、I（画中画）

### 方案二：完整功能（含字幕翻译）

```bash
# 启动后端
cd subtitle_backend && ./start.sh

# 使用字幕
访问视频网站 → 按 S 键
```

## 🔧 技术架构

### 前端（html5videoPlay.js）

```
核心功能
├── 智能检测（自动识别视频网站）
├── 快捷键系统（30+ 快捷键）
├── 字幕翻译（SubtitleService 类）
└── 配置管理（ConfigManager 集成）

支持的播放器
├── Bilibili、YouTube、西瓜视频
├── DPlayer、Video.js、阿里播放器
└── 所有 HTML5 播放器
```

### 后端（Python）

```
subtitle_backend/
├── FastAPI（RESTful API）
├── faster-whisper（语音识别）
├── deep-translator（翻译）
└── 异步处理（高性能）
```

## 📊 版本历史

| 版本 | 更新 | 重点功能 |
|------|------|---------|
| v2.2.0 | 2024-11-14 | 字幕翻译 + ConfigManager |
| v2.1.0 | 2024-11-14 | 智能检测 + YouTube 修复 |
| v2.0.2 | - | 基础功能 |

## 💡 核心特性

1. **通用性** - 自动支持所有 HTML5 视频网站
2. **易用性** - 一键开启，丰富快捷键
3. **国际化** - 中英意三语支持
4. **隐私性** - 本地处理，数据不上传
5. **性能** - 智能检测，按需启动

## 🆘 问题排查

| 问题 | 解决方法 |
|------|---------|
| 脚本未启动 | 刷新页面，查看控制台（F12） |
| 字幕不显示 | 检查后端：`curl http://localhost:8765/health` |
| 快捷键无效 | 确认无输入框焦点 |
| YouTube 问题 | 使用 V/E 键，不是 C/F 键 |

## 📞 文档导航

- **用户文档**: [README.md](./README.md) - 完整使用指南
- **后端文档**: [subtitle_backend/README.md](./subtitle_backend/README.md) - 后端服务说明

## 🏆 核心优势

- ✅ 功能完整：视频控制 + 字幕翻译
- ✅ 智能适配：自动识别所有视频网站
- ✅ 简单易用：一键开启，快捷键控制
- ✅ 国际化：完整的多语言支持
- ✅ 高性能：智能检测，资源优化

---

**更多信息请查看 [README.md](./README.md)**
